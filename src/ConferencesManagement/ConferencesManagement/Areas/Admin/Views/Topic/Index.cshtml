@model PagedList.IPagedList<Models.Entities.TopicForIndex>
@using PagedList.Mvc;
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}
@using (Html.BeginForm("Index", "Topic", FormMethod.Get))
{
    <div class="row">
        <div class="col-lg-12">
            <div class="col-lg-4">
                <input type="text" value="@ViewBag.SearchingString" name="searchingString" placeholder="Tìm kiếm bằng tên"; />
                <button type="submit">Tìm kiếm</button>
            </div>
        </div>
    </div>

}
<a href="/Admin/Topic/Create" class="btn btn-light btn-icon-split">
    <span class="icon text-gray-600">
        <i class="fas fa-arrow-right"></i>
    </span>
    <span class="text">Tạo mới Topic</span>
</a>

<div class="row">
    <div class="col-sm-12">
        <table class="table table-bordered dataTable" id="dataTable" width="100%" cellspacing="0" role="grid" aria-describedby="dataTable_info" style="width: 100%;">
            <thead>
                <tr role="row">
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="UserName: activate to sort column ascending" style="width: 95.0062px;">
                        STT
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="UserName: activate to sort column ascending" style="width: 95.0062px;">
                        Hình ảnh
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="UserName: activate to sort column ascending" style="width: 95.0062px;">
                        Topic menu
                    </th>
                    <th class="sorting_asc" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Password: activate to sort column descending" style="width: 149.006px;" aria-sort="ascending">
                        Chủ đề
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Email: activate to sort column ascending" style="width: 68.0063px;">
                        Hội Thảo
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Email: activate to sort column ascending" style="width: 68.0063px;">
                        Nội dung
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Email: activate to sort column ascending" style="width: 68.0063px;">
                        Ngày tạo
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Email: activate to sort column ascending" style="width: 68.0063px;">
                        Người tạo
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Email: activate to sort column ascending" style="width: 68.0063px;">
                        Ngày cập nhật
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Email: activate to sort column ascending" style="width: 68.0063px;">
                        Người cập nhật
                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Email: activate to sort column ascending" style="width: 68.0063px;">
                        Trạng thái
                    </th>

                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Email: activate to sort column ascending" style="width: 68.0063px;">

                    </th>
                    <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Email: activate to sort column ascending" style="width: 68.0063px;">

                    </th>

                </tr>
            </thead>
            <tbody>
                @{ int stt = 0;}
                @foreach (var item in Model)
                {
                    stt++;
                <tr role="row" class="odd">
                    <td>
                        @stt
                    </td>
                    <td>
                        <img src="@item.Image" height="100" width=" 100" />
                    </td>
                    <td>
                        @item.TopicMenu
                    </td>
                    <td>
                        @item.ChuDe
                    </td>
                    <td>
                        @item.TenHoiThao
                    </td>
                    <td>
                        @Html.Raw(item.Content)
                    </td>
                    <td>
                        @item.CreatedDate
                    </td>
                    <td>
                        @item.CreatedBy
                    </td>
                    <td>
                        @item.ModifiedBy
                    </td>
                    <td>
                        @item.ModifiedDate
                    </td>
                    <td>
                        @item.Status
                    </td>
                    <td>
                        <a href="/Admin/Topic/Edit/@item.ID">Sửa</a>
                    </td>
                    <td>
                        @Ajax.ActionLink("Xóa", "Delete",new { @id = item.ID }, new AjaxOptions
                   {
                       Confirm = "bạn có muốn xóa không",
                       OnComplete="$('row_"+@item.ID+"').remove()",
                       HttpMethod="Delete",
                       
                        })

                    </td>
                </tr>
                }

            </tbody>
        </table>
          @Html.PagedListPager(Model, page => Url.Action("Index", new { page }))
    </div>
</div>